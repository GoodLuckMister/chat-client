(this["webpackJsonpchat-client"]=this["webpackJsonpchat-client"]||[]).push([[0],{15:function(e,t,n){e.exports={Box:"chat_Box__1Fw6f",Form:"chat_Form__1XWhA"}},98:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),r=n(19),c=n.n(r),i=n(33),o=n(47),u=n(48),l=n(52),h=n(51),m=n(113),j=n(114),g=n(15),d=n.n(g),b=n(3),f=function(e){var t=e.value,n=e.onChange,s=e.onSend;return Object(b.jsx)("div",{children:Object(b.jsxs)("form",{className:d.a.Form,noValidate:!0,autoComplete:"off",children:[Object(b.jsx)(j.a,{placeholder:"Write your message",inputProps:{"aria-label":"description"},onChange:n,value:t}),Object(b.jsx)(m.a,{onClick:s,variant:"contained",color:"primary",children:"Send"})]})})},p=function(e){var t=e.item;return Object(b.jsx)("div",{children:Object(b.jsxs)("span",{children:[t.user,": ",t.text]})})},v=n(50),O=n.n(v)()("https://the-best-chat.herokuapp.com/"),x=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).socket=O,e.state={currentUser:"",messages:[],message:"",isLogin:!1,users:{}},e.changeName=function(t){e.setState({currentUser:t.target.value})},e.inputName=function(){var t=e.state.currentUser;t.trim().length>0&&(e.socket.emit("change:name",t),e.setState({isLogin:!0}))},e.changeMessage=function(t){e.setState({message:t.target.value})},e.sendMessage=function(t){t.preventDefault();var n=e.state,s=n.currentUser,a=n.message;console.log(a),a.trim().length>0&&(e.socket.emit("message",{user:s,message:a.trim()}),e.setState({message:""}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.socket.on("message",(function(t){e.state.isLogin&&e.setState((function(e){var n=e.messages,s=Object(i.a)(n);return s.length>10&&s.shift(),{messages:[].concat(Object(i.a)(s),[{user:t.user,text:t.message}])}}))})),this.socket.on("users",(function(t){e.setState({users:t})}))}},{key:"render",value:function(){var e=this.state,t=e.message,n=e.messages,s=e.currentUser,a=e.isLogin,r=e.users;return a?Object(b.jsxs)("div",{className:d.a.Container,children:[Object(b.jsx)("div",{className:d.a.Send,children:Object(b.jsx)(f,{value:t,onChange:this.changeMessage,onSend:this.sendMessage})}),Object(b.jsx)("div",{className:d.a.MessageList,children:n.map((function(e,t){return Object(b.jsx)(p,{item:e},t)}))}),Object(b.jsx)("ul",{children:Object.values(r).map((function(e,t){return Object(b.jsx)("li",{children:e},t)}))})]}):Object(b.jsxs)("div",{className:d.a.Box,children:[Object(b.jsx)("p",{children:"Send your name in form"}),Object(b.jsx)("form",{className:d.a.Form,noValidate:!0,autoComplete:"off",children:Object(b.jsx)(j.a,{placeholder:"Write your name",inputProps:{"aria-label":"description"},onChange:this.changeName,value:s})}),Object(b.jsx)(m.a,{onClick:this.inputName,variant:"contained",color:"primary",children:"Connect"})]})}}]),n}(s.PureComponent);var C=function(){return Object(b.jsx)(x,{})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,115)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),r(e),c(e)}))};c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(C,{})}),document.getElementById("root")),S()}},[[98,1,2]]]);
//# sourceMappingURL=main.01b1488b.chunk.js.map