(this["webpackJsonpchat-client"]=this["webpackJsonpchat-client"]||[]).push([[0],{25:function(e,t,n){e.exports={Box:"chat_Box__1w_YO",Form:"chat_Form__25M9g",Container:"chat_Container__1jVXd"}},67:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(13),r=n.n(c),i=n(41),o=n(4),u=n(5),l=n(7),h=n(6),m=n(83),j=n(84),d=n(25),g=n.n(d),b=n(2),f=function(e){var t=e.value,n=e.onChange,a=e.onSend;return Object(b.jsx)("div",{children:Object(b.jsxs)("form",{className:g.a.Form,noValidate:!0,autoComplete:"off",children:[Object(b.jsx)(j.a,{placeholder:"Write your message",inputProps:{"aria-label":"description"},onChange:n,value:t}),Object(b.jsx)(m.a,{onClick:a,variant:"contained",color:"primary",children:"Send"})]})})},p=n(40),v=function(e,t){var n=e.item;return Object(b.jsx)(p.a,{children:Object(b.jsx)(p.a.Body,{children:"".concat(n.user,": ").concat(n.text)})},t)},O=n(46),x=Object(O.a)("https://the-best-chat.herokuapp.com/"),C=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).socket=x,e.state={currentUser:"",messages:[],message:"",isLogin:!1,users:{}},e.changeName=function(t){e.setState({currentUser:t.target.value})},e.inputName=function(){var t=e.state.currentUser;t.trim().length>0&&(e.socket.emit("change:name",t),e.setState({isLogin:!0}))},e.changeMessage=function(t){e.setState({message:t.target.value})},e.sendMessage=function(t){t.preventDefault();var n=e.state,a=n.currentUser,s=n.message;s.trim().length>0&&(e.socket.emit("message",{user:a,message:s.trim()}),e.setState({message:""}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.socket.on("message",(function(t){e.state.isLogin&&e.setState((function(e){var n=e.messages,a=Object(i.a)(n);return a.length>10&&a.shift(),{messages:[].concat(Object(i.a)(a),[{user:t.user,text:t.message}])}}))})),this.socket.on("users",(function(t){e.setState({users:t})}))}},{key:"componentWillUnmount",value:function(){this.socket.disconnect()}},{key:"render",value:function(){var e=this.state,t=e.message,n=e.messages,a=e.currentUser,s=e.isLogin,c=e.users;return s?Object(b.jsxs)("div",{className:g.a.Container,children:[Object(b.jsx)("div",{className:g.a.Send,children:Object(b.jsx)(f,{value:t,onChange:this.changeMessage,onSend:this.sendMessage})}),Object(b.jsx)("div",{className:g.a.MessageList,children:n.map((function(e,t){return Object(b.jsx)(v,{item:e},t)}))}),Object(b.jsx)("ul",{children:Object.values(c).map((function(e,t){return Object(b.jsx)("li",{children:e},t)}))})]}):Object(b.jsxs)("div",{className:g.a.Box,children:[Object(b.jsx)("p",{children:"Send your name in form"}),Object(b.jsx)("form",{className:g.a.Form,noValidate:!0,autoComplete:"off",children:Object(b.jsx)(j.a,{placeholder:"Write your name",inputProps:{"aria-label":"description"},onChange:this.changeName,value:a})}),Object(b.jsx)(m.a,{onClick:this.inputName,variant:"contained",color:"primary",children:"Connect"})]})}}]),n}(a.PureComponent),k=C;n(66);var S=function(){return Object(b.jsx)(k,{})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(S,{})}),document.getElementById("root")),y()}},[[67,1,2]]]);
//# sourceMappingURL=main.bccbc0b2.chunk.js.map